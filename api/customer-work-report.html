<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus AI - Strategic Intelligence Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Welcome Screen Styles */
        .welcome-screen {
            text-align: center;
            padding: 60px 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            margin: 40px auto;
            max-width: 800px;
        }

        .welcome-header {
            margin-bottom: 40px;
        }

        .welcome-header h1 {
            font-size: 3rem;
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .welcome-header .subtitle {
            font-size: 1.2rem;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        .nexus-logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .initial-form {
            background: #ffffff;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: left;
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #fafafa;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            background: #ffffff;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }

        /* AI Wizard Interface Styles */
        .wizard-interface {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            overflow: hidden;
        }

        .wizard-header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .wizard-header h2 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .wizard-progress {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            gap: 10px;
        }

        .progress-step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .progress-step.active {
            background: #667eea;
            transform: scale(1.1);
        }

        .progress-step.completed {
            background: #27ae60;
        }

        .wizard-content {
            padding: 40px;
            min-height: 500px;
        }

        .ai-copilot-panel {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .copilot-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-right: 15px;
            vertical-align: middle;
        }

        .copilot-message {
            display: inline-block;
            vertical-align: middle;
            max-width: calc(100% - 70px);
        }

        .copilot-message h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .copilot-message p {
            color: #5a6c7d;
            line-height: 1.6;
        }

        .wizard-form-section {
            background: #ffffff;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
        }

        .wizard-form-section h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .tier-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .tier-card {
            background: #ffffff;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .tier-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.2);
        }

        .tier-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .tier-card .tier-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .tier-card h4 {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .tier-card p {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .module-card {
            background: #ffffff;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .module-card:hover {
            border-color: #667eea;
            transform: translateY(-3px);
        }

        .module-card.selected {
            border-color: #27ae60;
            background: #f8fff8;
        }

        .module-card .module-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .wizard-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }

        .btn-secondary {
            background: #95a5a6;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #7f8c8d;
            transform: translateY(-1px);
        }

        .opportunity-feed {
            background: #ffffff;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .opportunity-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
        }

        .opportunity-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .opportunity-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .opportunity-description {
            color: #5a6c7d;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hidden {
            display: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .welcome-header h1 {
                font-size: 2rem;
            }
            
            .initial-form {
                padding: 20px;
            }
            
            .wizard-content {
                padding: 20px;
            }
            
            .tier-selection {
                grid-template-columns: 1fr;
            }
            
            .module-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Welcome Screen -->
        <div class="welcome-screen" id="welcomeScreen">
            <div class="welcome-header">
                <div class="nexus-logo">üß†</div>
                <h1>Nexus AI</h1>
                <div class="subtitle">Strategic Intelligence Platform</div>
                <p>Transform your strategic goals into actionable intelligence with AI-powered analysis</p>
            </div>

            <div class="initial-form">
                <h3 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">Tell us about your strategic initiative</h3>
                
                <div class="form-group">
                    <label for="userName">Your Name *</label>
                    <input type="text" id="userName" placeholder="Enter your full name" required>
                </div>

                <div class="form-group">
                    <label for="userOrganization">Your Organization *</label>
                    <input type="text" id="userOrganization" placeholder="Company, government agency, or institution" required>
                </div>

                <div class="form-group">
                    <label for="userLocation">Where are you located? *</label>
                    <input type="text" id="userLocation" placeholder="City, Country" required>
                </div>

                <div class="form-group">
                    <label for="userGoal">What strategic challenge are you facing? *</label>
                    <textarea id="userGoal" placeholder="Describe what you need help with - e.g., 'I need to attract foreign investment to my region' or 'I'm looking for technology partners in Southeast Asia'" rows="4" required></textarea>
                </div>

                <div class="form-group">
                    <label for="userTimeline">What's your timeline?</label>
                    <select id="userTimeline">
                        <option value="immediate">Immediate (0-3 months)</option>
                        <option value="short-term">Short-term (3-6 months)</option>
                        <option value="medium-term">Medium-term (6-12 months)</option>
                        <option value="long-term">Long-term (1+ years)</option>
                    </select>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn-primary" onclick="startAIWizard()">
                        Start My Intelligence Journey
                    </button>
                </div>
            </div>
        </div>

        <!-- AI Wizard Interface -->
        <div class="wizard-interface" id="wizardInterface">
            <div class="wizard-header">
                <h2>Nexus AI Wizard</h2>
                <p>Your personalized intelligence assistant</p>
                <div class="wizard-progress" id="wizardProgress">
                    <div class="progress-step active">1</div>
                    <div class="progress-step">2</div>
                    <div class="progress-step">3</div>
                    <div class="progress-step">4</div>
                    <div class="progress-step">5</div>
                </div>
            </div>

            <div class="wizard-content" id="wizardContent">
                <!-- Step 1: AI Analysis & Tier Selection -->
                <div class="wizard-step" id="wizardStep1">
                    <div class="ai-copilot-panel">
                        <div class="copilot-avatar">üß†</div>
                        <div class="copilot-message">
                            <h4>Nexus Copilot Analysis</h4>
                            <p id="copilotAnalysis">Analyzing your strategic challenge...</p>
                        </div>
                    </div>

                    <div class="wizard-form-section">
                        <h3>Recommended Intelligence Tiers</h3>
                        <p style="color: #5a6c7d; margin-bottom: 20px;">Based on your goals, here are the recommended analysis tiers:</p>
                        
                        <div class="tier-selection" id="tierSelection">
                            <div class="tier-card" data-tier="basic">
                                <div class="tier-icon">üìä</div>
                                <h4>Basic Intelligence</h4>
                                <p>Essential market overview and opportunity identification</p>
                            </div>
                            <div class="tier-card" data-tier="professional">
                                <div class="tier-icon">üîç</div>
                                <h4>Professional Analysis</h4>
                                <p>Comprehensive analysis with stakeholder mapping and risk assessment</p>
                            </div>
                            <div class="tier-card" data-tier="enterprise">
                                <div class="tier-icon">üéØ</div>
                                <h4>Enterprise Intelligence</h4>
                                <p>Full strategic intelligence with predictive analytics and ecosystem mapping</p>
                            </div>
                        </div>
                    </div>

                    <div class="wizard-form-section">
                        <h3>Available Intelligence Modules</h3>
                        <div class="module-grid" id="moduleGrid">
                            <div class="module-card" data-module="market-analysis">
                                <div class="module-icon">üìà</div>
                                <h5>Market Analysis</h5>
                            </div>
                            <div class="module-card" data-module="opportunity-mapping">
                                <div class="module-icon">üó∫Ô∏è</div>
                                <h5>Opportunity Mapping</h5>
                            </div>
                            <div class="module-card" data-module="partner-identification">
                                <div class="module-icon">ü§ù</div>
                                <h5>Partner Identification</h5>
                            </div>
                            <div class="module-card" data-module="risk-assessment">
                                <div class="module-icon">‚ö†Ô∏è</div>
                                <h5>Risk Assessment</h5>
                            </div>
                            <div class="module-card" data-module="competitive-intelligence">
                                <div class="module-icon">üèÜ</div>
                                <h5>Competitive Intelligence</h5>
                            </div>
                            <div class="module-card" data-module="regulatory-analysis">
                                <div class="module-icon">üìã</div>
                                <h5>Regulatory Analysis</h5>
                            </div>
                        </div>
                    </div>

                    <div class="opportunity-feed" id="opportunityFeed" style="display: none;">
                        <h3>Live Opportunities</h3>
                        <div id="opportunityList"></div>
                    </div>
                </div>

                <!-- Step 2: Persona & Lens Selection -->
                <div class="wizard-step hidden" id="wizardStep2">
                    <div class="ai-copilot-panel">
                        <div class="copilot-avatar">üß†</div>
                        <div class="copilot-message">
                            <h4>AI Persona Configuration</h4>
                            <p>Now let's configure your AI intelligence team with specialized personas and analytical perspectives.</p>
                        </div>
                    </div>

                    <div class="wizard-form-section">
                        <h3>Select AI Personas</h3>
                        <div class="module-grid" id="personaGrid">
                            <div class="module-card" data-persona="venture-capitalist">
                                <div class="module-icon">üíº</div>
                                <h5>Venture Capitalist</h5>
                                <p style="font-size: 0.8rem; color: #7f8c8d;">Financial viability and investment analysis</p>
                            </div>
                            <div class="module-card" data-persona="geopolitical-strategist">
                                <div class="module-icon">üåç</div>
                                <h5>Geopolitical Strategist</h5>
                                <p style="font-size: 0.8rem; color: #7f8c8d;">Political risk and stability analysis</p>
                            </div>
                            <div class="module-card" data-persona="economic-analyst">
                                <div class="module-icon">üìä</div>
                                <h5>Economic Analyst</h5>
                                <p style="font-size: 0.8rem; color: #7f8c8d;">Macroeconomic trends and market dynamics</p>
                            </div>
                            <div class="module-card" data-persona="supply-chain-expert">
                                <div class="module-icon">üöõ</div>
                                <h5>Supply Chain Expert</h5>
                                <p style="font-size: 0.8rem; color: #7f8c8d;">Operational efficiency and logistics</p>
                            </div>
                            <div class="module-card" data-persona="sustainability-specialist">
                                <div class="module-icon">üå±</div>
                                <h5>Sustainability Specialist</h5>
                                <p style="font-size: 0.8rem; color: #7f8c8d;">ESG impact and sustainable development</p>
                            </div>
                            <div class="module-card" data-persona="digital-transformation-lead">
                                <div class="module-icon">üíª</div>
                                <h5>Digital Transformation Lead</h5>
                                <p style="font-size: 0.8rem; color: #7f8c8d;">Technology adoption and innovation</p>
                            </div>
                        </div>
                    </div>

                    <div class="wizard-form-section">
                        <h3>Analytical Lenses</h3>
                        <div class="module-grid" id="lensGrid">
                            <div class="module-card" data-lens="financial-viability">
                                <div class="module-icon">üí∞</div>
                                <h5>Financial Viability</h5>
                            </div>
                            <div class="module-card" data-lens="risk-assessment">
                                <div class="module-icon">üîç</div>
                                <h5>Risk Assessment</h5>
                            </div>
                            <div class="module-card" data-lens="market-opportunity">
                                <div class="module-icon">üéØ</div>
                                <h5>Market Opportunity</h5>
                            </div>
                            <div class="module-card" data-lens="regulatory-compliance">
                                <div class="module-icon">‚öñÔ∏è</div>
                                <h5>Regulatory Compliance</h5>
                            </div>
                            <div class="module-card" data-lens="technological-feasibility">
                                <div class="module-icon">üîß</div>
                                <h5>Technological Feasibility</h5>
                            </div>
                            <div class="module-card" data-lens="social-impact">
                                <div class="module-icon">üë•</div>
                                <h5>Social Impact</h5>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Data Sources & Intelligence Generation -->
                <div class="wizard-step hidden" id="wizardStep3">
                    <div class="ai-copilot-panel">
                        <div class="copilot-avatar">üß†</div>
                        <div class="copilot-message">
                            <h4>Intelligence Generation</h4>
                            <p>Generating your personalized intelligence report with selected personas and analysis modules...</p>
                        </div>
                    </div>

                    <div class="wizard-form-section">
                        <h3>Data Sources</h3>
                        <div class="module-grid" id="dataSourceGrid">
                            <div class="module-card selected" data-source="world-bank">
                                <div class="module-icon">üè¶</div>
                                <h5>World Bank Data</h5>
                            </div>
                            <div class="module-card selected" data-source="un-comtrade">
                                <div class="module-icon">üåê</div>
                                <h5>UN Comtrade</h5>
                            </div>
                            <div class="module-card" data-source="bloomberg">
                                <div class="module-icon">üìà</div>
                                <h5>Bloomberg Terminal</h5>
                            </div>
                            <div class="module-card" data-source="regional-stats">
                                <div class="module-icon">üìä</div>
                                <h5>Regional Statistics</h5>
                            </div>
                        </div>
                    </div>

                    <div class="wizard-form-section">
                        <h3>Intelligence Generation Progress</h3>
                        <div style="background: #f8f9fa; border-radius: 10px; padding: 20px;">
                            <div style="margin-bottom: 15px;">
                                <strong>Current Phase:</strong> <span id="generationPhase">Initializing Analysis</span>
                            </div>
                            <div style="background: #e0e0e0; border-radius: 10px; height: 10px; overflow: hidden;">
                                <div id="progressBar" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 100%; width: 0%; transition: width 0.3s ease;"></div>
                            </div>
                            <div id="generationStatus" style="margin-top: 10px; color: #5a6c7d;">Preparing your intelligence framework...</div>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Results & Recommendations -->
                <div class="wizard-step hidden" id="wizardStep4">
                    <div class="ai-copilot-panel">
                        <div class="copilot-avatar">üß†</div>
                        <div class="copilot-message">
                            <h4>Intelligence Complete</h4>
                            <p>Your personalized intelligence report is ready! Here are the key findings and recommendations.</p>
                        </div>
                    </div>

                    <div class="wizard-form-section">
                        <h3>Key Findings</h3>
                        <div id="keyFindings"></div>
                    </div>

                    <div class="wizard-form-section">
                        <h3>Strategic Recommendations</h3>
                        <div id="recommendations"></div>
                    </div>

                    <div class="wizard-form-section">
                        <h3>Next Steps</h3>
                        <div id="nextSteps"></div>
                    </div>
                </div>

                <!-- Step 5: Report Generation -->
                <div class="wizard-step hidden" id="wizardStep5">
                    <div class="ai-copilot-panel">
                        <div class="copilot-avatar">üß†</div>
                        <div class="copilot-message">
                            <h4>Final Report Generation</h4>
                            <p>Choose your report format and generate your comprehensive intelligence document.</p>
                        </div>
                    </div>

                    <div class="wizard-form-section">
                        <h3>Report Format</h3>
                        <div class="tier-selection">
                            <div class="tier-card" data-format="executive-summary">
                                <div class="tier-icon">üìÑ</div>
                                <h4>Executive Summary</h4>
                                <p>2-3 page high-level overview</p>
                            </div>
                            <div class="tier-card" data-format="comprehensive">
                                <div class="tier-icon">üìö</div>
                                <h4>Comprehensive Report</h4>
                                <p>15-20 page detailed analysis</p>
                            </div>
                            <div class="tier-card" data-format="presentation">
                                <div class="tier-icon">üìä</div>
                                <h4>Presentation Format</h4>
                                <p>PowerPoint-style presentation</p>
                            </div>
                        </div>
                    </div>

                    <div class="wizard-form-section">
                        <h3>Additional Options</h3>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="includeLetters"> Include Introduction Letters
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="includeOpportunities"> Include Opportunity Pipeline
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="includeRiskMatrix"> Include Risk Assessment Matrix
                            </label>
                        </div>
                    </div>
                </div>

                <div class="wizard-actions">
                    <button class="btn-secondary" onclick="previousWizardStep()" id="prevBtn" style="display: none;">Previous</button>
                    <button class="btn-primary" onclick="nextWizardStep()" id="nextBtn">Continue</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentWizardStep = 1;
        let userData = {};
        let wizardData = {
            selectedTier: '',
            selectedModules: [],
            selectedPersonas: [],
            selectedLenses: [],
            selectedFormat: ''
        };

        function startAIWizard() {
            // Collect user data from welcome form
            userData = {
                name: document.getElementById('userName').value,
                organization: document.getElementById('userOrganization').value,
                location: document.getElementById('userLocation').value,
                goal: document.getElementById('userGoal').value,
                timeline: document.getElementById('userTimeline').value
            };

            // Validate required fields
            if (!userData.name || !userData.organization || !userData.location || !userData.goal) {
                alert('Please fill in all required fields');
                return;
            }

            // Hide welcome screen and show wizard
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('wizardInterface').style.display = 'block';
            
            // Initialize AI analysis
            generateAIAnalysis();
            
            // Load opportunities
            loadOpportunities();
        }

        function generateAIAnalysis() {
            const copilotAnalysis = document.getElementById('copilotAnalysis');
            copilotAnalysis.innerHTML = `Analyzing your strategic challenge: "${userData.goal}" for ${userData.organization} in ${userData.location}...`;
            
            // Simulate AI analysis
            setTimeout(() => {
                copilotAnalysis.innerHTML = `Based on your goal of "${userData.goal}", I recommend starting with <strong>Professional Analysis</strong> tier. This will provide comprehensive market intelligence, stakeholder mapping, and risk assessment for your ${userData.timeline} timeline.`;
                
                // Auto-select recommended tier
                document.querySelector('[data-tier="professional"]').classList.add('selected');
                wizardData.selectedTier = 'professional';
            }, 2000);
        }

        function loadOpportunities() {
            const opportunities = [
                {
                    title: "Southeast Asia Infrastructure Development",
                    description: "$2.5B in infrastructure opportunities across Indonesia, Thailand, and Vietnam focusing on smart city development and renewable energy projects.",
                    region: "Southeast Asia",
                    sector: "Infrastructure"
                },
                {
                    title: "Digital Transformation Partnerships",
                    description: "Technology transfer opportunities in fintech, e-commerce, and digital government services across emerging markets.",
                    region: "Global",
                    sector: "Technology"
                },
                {
                    title: "Sustainable Energy Investments",
                    description: "$1.8B in renewable energy projects including solar, wind, and hydroelectric opportunities in developing economies.",
                    region: "Multiple Regions",
                    sector: "Energy"
                }
            ];

            const opportunityList = document.getElementById('opportunityList');
            opportunityList.innerHTML = opportunities.map(opp => `
                <div class="opportunity-item">
                    <div class="opportunity-title">${opp.title}</div>
                    <div class="opportunity-description">${opp.description}</div>
                    <div style="margin-top: 10px; font-size: 0.8rem; color: #667eea;">
                        <strong>${opp.region}</strong> ‚Ä¢ ${opp.sector}
                    </div>
                </div>
            `).join('');

            document.getElementById('opportunityFeed').style.display = 'block';
        }

        // Tier selection
        document.addEventListener('click', function(e) {
            if (e.target.closest('.tier-card')) {
                const card = e.target.closest('.tier-card');
                const tier = card.dataset.tier;
                
                // Remove previous selection
                document.querySelectorAll('.tier-card').forEach(c => c.classList.remove('selected'));
                
                // Add selection
                card.classList.add('selected');
                wizardData.selectedTier = tier;
            }

            // Module selection
            if (e.target.closest('.module-card')) {
                const card = e.target.closest('.module-card');
                const module = card.dataset.module;
                
                if (card.classList.contains('selected')) {
                    card.classList.remove('selected');
                    wizardData.selectedModules = wizardData.selectedModules.filter(m => m !== module);
                } else {
                    card.classList.add('selected');
                    wizardData.selectedModules.push(module);
                }
            }

            // Persona selection
            if (e.target.closest('[data-persona]')) {
                const card = e.target.closest('[data-persona]');
                const persona = card.dataset.persona;
                
                if (card.classList.contains('selected')) {
                    card.classList.remove('selected');
                    wizardData.selectedPersonas = wizardData.selectedPersonas.filter(p => p !== persona);
                } else {
                    card.classList.add('selected');
                    wizardData.selectedPersonas.push(persona);
                }
            }

            // Lens selection
            if (e.target.closest('[data-lens]')) {
                const card = e.target.closest('[data-lens]');
                const lens = card.dataset.lens;
                
                if (card.classList.contains('selected')) {
                    card.classList.remove('selected');
                    wizardData.selectedLenses = wizardData.selectedLenses.filter(l => l !== lens);
                } else {
                    card.classList.add('selected');
                    wizardData.selectedLenses.push(lens);
                }
            }

            // Format selection
            if (e.target.closest('[data-format]')) {
                const card = e.target.closest('[data-format]');
                const format = card.dataset.format;
                
                // Remove previous selection
                document.querySelectorAll('[data-format]').forEach(c => c.classList.remove('selected'));
                
                // Add selection
                card.classList.add('selected');
                wizardData.selectedFormat = format;
            }
        });

        function nextWizardStep() {
            if (currentWizardStep === 1 && !wizardData.selectedTier) {
                alert('Please select an intelligence tier');
                return;
            }

            if (currentWizardStep === 2) {
                if (wizardData.selectedPersonas.length === 0) {
                    alert('Please select at least one AI persona');
                    return;
                }
                if (wizardData.selectedLenses.length === 0) {
                    alert('Please select at least one analytical lens');
                    return;
                }
            }

            if (currentWizardStep < 5) {
                // Hide current step
                document.getElementById(`wizardStep${currentWizardStep}`).classList.add('hidden');
                
                // Update progress
                document.querySelector(`.progress-step:nth-child(${currentWizardStep})`).classList.add('completed');
                document.querySelector(`.progress-step:nth-child(${currentWizardStep + 1})`).classList.add('active');
                
                // Show next step
                currentWizardStep++;
                document.getElementById(`wizardStep${currentWizardStep}`).classList.remove('hidden');
                
                // Handle step-specific logic
                if (currentWizardStep === 3) {
                    startIntelligenceGeneration();
                } else if (currentWizardStep === 4) {
                    displayResults();
                }
                
                // Update navigation buttons
                updateNavigationButtons();
            }
        }

        function previousWizardStep() {
            if (currentWizardStep > 1) {
                // Hide current step
                document.getElementById(`wizardStep${currentWizardStep}`).classList.add('hidden');
                
                // Update progress
                document.querySelector(`.progress-step:nth-child(${currentWizardStep})`).classList.remove('active');
                
                // Show previous step
                currentWizardStep--;
                document.getElementById(`wizardStep${currentWizardStep}`).classList.remove('hidden');
                
                // Update navigation buttons
                updateNavigationButtons();
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            if (currentWizardStep === 1) {
                prevBtn.style.display = 'none';
            } else {
                prevBtn.style.display = 'inline-block';
            }
            
            if (currentWizardStep === 5) {
                nextBtn.textContent = 'Generate Report';
                nextBtn.onclick = generateFinalReport;
            } else {
                nextBtn.textContent = 'Continue';
                nextBtn.onclick = nextWizardStep;
            }
        }

        function startIntelligenceGeneration() {
            const phases = [
                'Collecting regional data and market intelligence...',
                'Analyzing stakeholder landscape and competitive environment...',
                'Evaluating opportunities and risk factors...',
                'Synthesizing findings with AI personas...',
                'Generating strategic recommendations...'
            ];
            
            let currentPhase = 0;
            const progressBar = document.getElementById('progressBar');
            const generationPhase = document.getElementById('generationPhase');
            const generationStatus = document.getElementById('generationStatus');
            
            const interval = setInterval(() => {
                if (currentPhase < phases.length) {
                    generationPhase.textContent = phases[currentPhase];
                    progressBar.style.width = `${(currentPhase + 1) * 20}%`;
                    generationStatus.textContent = `Phase ${currentPhase + 1} of ${phases.length} complete...`;
                    currentPhase++;
                } else {
                    clearInterval(interval);
                    generationStatus.textContent = 'Intelligence generation complete!';
                    progressBar.style.width = '100%';
                }
            }, 1500);
        }

        function displayResults() {
            const keyFindings = document.getElementById('keyFindings');
            const recommendations = document.getElementById('recommendations');
            const nextSteps = document.getElementById('nextSteps');
            
            keyFindings.innerHTML = `
                <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 15px;">
                    <h5 style="color: #2c3e50; margin-bottom: 10px;">üéØ Strategic Opportunity</h5>
                    <p>Based on your analysis of "${userData.goal}", there are significant opportunities in ${userData.location} with potential for ${userData.timeline} implementation.</p>
                </div>
                <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; margin-bottom: 15px;">
                    <h5 style="color: #2c3e50; margin-bottom: 10px;">üìä Market Intelligence</h5>
                    <p>Your selected ${wizardData.selectedTier} tier analysis reveals key market dynamics and competitive advantages for ${userData.organization}.</p>
                </div>
            `;
            
            recommendations.innerHTML = `
                <div style="background: #e8f5e8; border-radius: 10px; padding: 20px; margin-bottom: 15px; border-left: 4px solid #27ae60;">
                    <h5 style="color: #27ae60; margin-bottom: 10px;">üöÄ Immediate Actions</h5>
                    <ul style="margin-left: 20px;">
                        <li>Engage with identified key stakeholders in your target region</li>
                        <li>Develop partnerships with recommended local entities</li>
                        <li>Establish regulatory compliance framework</li>
                    </ul>
                </div>
                <div style="background: #e8f5e8; border-radius: 10px; padding: 20px; margin-bottom: 15px; border-left: 4px solid #27ae60;">
                    <h5 style="color: #27ae60; margin-bottom: 10px;">üìà Strategic Positioning</h5>
                    <p>Leverage your ${wizardData.selectedPersonas.join(', ')} perspectives to optimize market entry strategy.</p>
                </div>
            `;
            
            nextSteps.innerHTML = `
                <div style="background: #fff3cd; border-radius: 10px; padding: 20px; margin-bottom: 15px; border-left: 4px solid #ffc107;">
                    <h5 style="color: #856404; margin-bottom: 10px;">üìã Report Generation</h5>
                    <p>Proceed to generate your comprehensive intelligence report with selected modules and analysis depth.</p>
                </div>
                <div style="background: #d1ecf1; border-radius: 10px; padding: 20px; margin-bottom: 15px; border-left: 4px solid #17a2b8;">
                    <h5 style="color: #0c5460; margin-bottom: 10px;">üîÑ Continuous Monitoring</h5>
                    <p>Set up alerts for ongoing market intelligence and opportunity updates.</p>
                </div>
            `;
        }

        function generateFinalReport() {
            if (!wizardData.selectedFormat) {
                alert('Please select a report format');
                return;
            }
            
            alert(`Generating your ${wizardData.selectedFormat} intelligence report...\n\nThis will include:\n‚Ä¢ ${wizardData.selectedTier} tier analysis\n‚Ä¢ ${wizardData.selectedModules.length} intelligence modules\n‚Ä¢ ${wizardData.selectedPersonas.length} AI personas\n‚Ä¢ ${wizardData.selectedLenses.length} analytical lenses\n\nReport will be ready for download shortly.`);
            
            // Here you would typically send the data to your backend
            console.log('Final report data:', {
                userData,
                wizardData,
                timestamp: new Date().toISOString()
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Add any initialization logic here
            console.log('Nexus AI Wizard initialized');
        });
    </script>
    <div class="clarity-matrix-container">
        <div class="clarity-header">
            <div class="clarity-logo">
                <div class="nexus-logo">N</div>
                <h1 class="clarity-cyan-text">Nexus AI Report Generator</h1>
            </div>
            <div class="clarity-navigator">
                <!-- Sidebar navigation for workflow steps -->
                <div class="navigator-title">Workflow Steps</div>
                <div class="step-list">
                    <div class="step-item current"><div class="step-indicator">1</div><div class="step-content"><div class="step-title">Context & Profile</div><div class="step-description">Define your organization and regional context</div></div></div>
                    <div class="step-item"><div class="step-indicator">2</div><div class="step-content"><div class="step-title">Goal Articulation</div><div class="step-description">Clearly define your strategic objective</div></div></div>
                    <div class="step-item"><div class="step-indicator">3</div><div class="step-content"><div class="step-title">Stakeholder Analysis</div><div class="step-description">Identify key stakeholders and their interests</div></div></div>
                    <div class="step-item"><div class="step-indicator">4</div><div class="step-content"><div class="step-title">Regional Intelligence</div><div class="step-description">Gather comprehensive regional data</div></div></div>
                    <div class="step-item"><div class="step-indicator">5</div><div class="step-content"><div class="step-title">Market Dynamics</div><div class="step-description">Analyze market conditions and opportunities</div></div></div>
                    <div class="step-item"><div class="step-indicator">6</div><div class="step-content"><div class="step-title">Competitive Landscape</div><div class="step-description">Map competitive environment</div></div></div>
                    <div class="step-item"><div class="step-indicator">7</div><div class="step-content"><div class="step-title">AI Configuration</div><div class="step-description">Configure AI personas and analytical lenses</div></div></div>
                    <div class="step-item"><div class="step-indicator">8</div><div class="step-content"><div class="step-title">Data Synthesis</div><div class="step-description">Synthesize all gathered intelligence</div></div></div>
                    <div class="step-item"><div class="step-indicator">9</div><div class="step-content"><div class="step-title">Strategic Formulation</div><div class="step-description">Develop strategic recommendations</div></div></div>
                    <div class="step-item"><div class="step-indicator">10</div><div class="step-content"><div class="step-title">Intelligence Generation</div><div class="step-description">Generate comprehensive intelligence report</div></div></div>
                    <div class="step-item"><div class="step-indicator">11</div><div class="step-content"><div class="step-title">Validation & Review</div><div class="step-description">Validate findings and recommendations</div></div></div>
                    <div class="step-item"><div class="step-indicator">12</div><div class="step-content"><div class="step-title">Action Planning</div><div class="step-description">Create actionable implementation plan</div></div></div>
                </div>
            </div>
            <div class="clarity-workspace">
                <!-- Main content area for step details and user input -->
                <div class="clarity-card">
                    <h2 class="clarity-cyan-text">Step 1: Context & Profile</h2>
                    <form class="initial-form">
                        <div class="form-group">
                            <label for="orgType">Organization Type</label>
                            <select id="orgType" name="orgType" class="clarity-input">
                                <option value="">Select...</option>
                                <option value="Government">Government</option>
                                <option value="Banking">Banking</option>
                                <option value="Corporation">Corporation</option>
                                <option value="NGO">NGO</option>
                                <option value="Academic">Academic</option>
                                <option value="Individual">Individual</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="region">Region</label>
                            <input type="text" id="region" name="region" class="clarity-input" placeholder="e.g. North America" />
                        </div>
                        <div class="form-group">
                            <label for="industry">Industry</label>
                            <input type="text" id="industry" name="industry" class="clarity-input" placeholder="e.g. Technology" />
                        </div>
                        <div class="form-group">
                            <label for="goal">Strategic Goal</label>
                            <input type="text" id="goal" name="goal" class="clarity-input" placeholder="e.g. Market Expansion" />
                        </div>
                        <button type="submit" class="clarity-button">Next Step</button>
                    </form>
                </div>
            </div>
            <div class="clarity-copilot">
                <!-- Persistent AI Copilot panel -->
                <div class="copilot-header">
                    <div class="copilot-title">Nexus Copilot</div>
                    <div class="copilot-subtitle">Your AI assistant for every step</div>
                </div>
                <div class="copilot-messages">
                    <div class="message assistant">Welcome! Select your organization type and strategic goal to begin. I‚Äôll guide you through each step and recommend the best options for your context.</div>
                </div>
            </div>
        </div>
    </body>
</html>